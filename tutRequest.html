
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" >
<!--<![endif]-->
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta property="og:description" content="Document Title" />
<meta property="og:image" content="" />
<meta property="og:site_name" content="" />
<meta property="og:type" content="" />
<meta property="og:title" content="Document Title" />
<meta property="og:type" content="website" />
<meta property="og:updated_time" content="" />
<meta property="og:url" content="" />
<title>Documentation</title>
<link rel="shortcut icon" href="static/img/favicon.ico"/>
<link rel="stylesheet" href="static/css/theme.css" type="text/css" />
<link rel="stylesheet" href="static/css/jquery-ui.min.css" type="text/css" />
<script src="static/js/modernizr.min.js"></script>
</head>
<body class="wy-body-for-nav">

<div class="wy-grid-for-nav">
<nav data-toggle="wy-nav-shift" class="wy-nav-side">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<ul class="sidebartop">
<li class="nolink search"><div role="search">
<form id="rtd-search-form" class="wy-form" action="searchResults.html" method="get">
<input type="text" name="q" placeholder="Search this document" aria-label="Search this project" id="searchinput" />
<input type="hidden" name="check_keywords" value="yes" />
<input type="hidden" name="area" value="default" />
</form>
</div>
</li></ul>
</div>
<div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">

<ul class="current">
<li class="nav-caption"><span class="caption-text">Getting Started</span></li><li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a>
<ul><li class="toctree-l2"><a class="reference internal" href="quickstart.html#requirements">Requirements</a>
</li><li class="toctree-l2"><a class="reference internal" href="quickstart.html#prerequisites">Prerequisites</a>
</li><li class="toctree-l2"><a class="reference internal" href="quickstart.html#step-1-download-the-agent-kernel">Step 1. Download the Agent Kernel</a>
</li><li class="toctree-l2"><a class="reference internal" href="quickstart.html#step-2-install-the-agent">Step 2. Install the Agent</a>
<ul><li class="toctree-l3"><a class="reference internal" href="quickstart.html#debian-installation">Debian Installation</a>
</li><li class="toctree-l3"><a class="reference internal" href="quickstart.html#standalone-binary-installation">Standalone Binary Installation</a>
</li></ul></li><li class="toctree-l2"><a class="reference internal" href="quickstart.html#step-3-verify-successful-installation">Step 3. Verify Successful Installation</a>
</li><li class="toctree-l2"><a class="reference internal" href="quickstart.html#notes-on-batch-installation">Notes on Batch Installation</a>
</li><li class="toctree-l2"><a class="reference internal" href="quickstart.html#next-steps">Next Steps</a>
</li></ul></li><li class="toctree-l1"><a class="reference internal" href="kernelIntegration.html">Kernel Integration</a>
<ul><li class="toctree-l2"><a class="reference internal" href="kernelIntegration.html#configuration-file">Configuration File</a>
</li><li class="toctree-l2"><a class="reference internal" href="kernelIntegration.html#interrupt-vector-table">Interrupt Vector Table</a>
</li><li class="toctree-l2"><a class="reference internal" href="kernelIntegration.html#language-considerations">Language Considerations</a>
</li></ul></li><li class="toctree-l1"><a class="reference internal" href="hwIntegration.html">Hardware Interface</a>
<ul><li class="toctree-l2"><a class="reference internal" href="hwIntegration.html#internal-ram">Internal RAM</a>
</li><li class="toctree-l2"><a class="reference internal" href="hwIntegration.html#internal-registers">Internal Registers</a>
</li><li class="toctree-l2"><a class="reference internal" href="hwIntegration.html#interrupt-vectors">Interrupt Vectors</a>
</li><li class="toctree-l2"><a class="reference internal" href="hwIntegration.html#operating-mode">Operating Mode</a>
</li><li class="toctree-l2"><a class="reference internal" href="hwIntegration.html#banking">Banking</a>
</li></ul></li><li class="nav-caption"><span class="caption-text">Overview</span></li><li class="toctree-l1"><a class="reference internal" href="rtSystems.html">Real-time Systems and Autonomous Agents</a>
<ul><li class="toctree-l2"><a class="reference internal" href="rtSystems.html#kernel-features">Kernel Features</a>
</li><li class="toctree-l2"><a class="reference internal" href="rtSystems.html#the-kernel-model">The Kernel Model</a>
</li><li class="toctree-l2"><a class="reference internal" href="rtSystems.html#autonomous-agents">Autonomous Agents</a>
</li></ul></li><li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a>
<ul><li class="toctree-l2"><a class="reference internal" href="concepts.html#the-task-unit">The Task Unit</a>
</li><li class="toctree-l2"><a class="reference internal" href="concepts.html#the-task-and-its-environment">The Task and Its Environment</a>
<ul><li class="toctree-l3"><a class="reference internal" href="concepts.html#task-discipline">TASK DISCIPLINE</a>
</li><li class="toctree-l3"><a class="reference internal" href="concepts.html#task-attributes">TASK ATTRIBUTES</a>
</li></ul></li><li class="toctree-l2"><a class="reference internal" href="concepts.html#task-identification-and-creation">Task Identification and Creation</a>
<ul><li class="toctree-l3"><a class="reference internal" href="concepts.html#identification">IDENTIFICATION</a>
</li><li class="toctree-l3"><a class="reference internal" href="concepts.html#creation">CREATION</a>
</li></ul></li><li class="toctree-l2"><a class="reference internal" href="concepts.html#kernel-states">Kernel States</a>
<ul><li class="toctree-l3"><a class="reference internal" href="concepts.html#state-descriptions">State Descriptions</a>
</li><li class="toctree-l3"><a class="reference internal" href="concepts.html#scheduling-policy">Scheduling Policy</a>
</li><li class="toctree-l3"><a class="reference internal" href="concepts.html#initialization-and-startup">Initialization and Startup</a>
</li><li class="toctree-l3"><a class="reference internal" href="concepts.html#handling-interrupts">Handling Interrupts</a>
</li></ul></li><li class="toctree-l2"><a class="reference internal" href="concepts.html#kernel-primitives">Kernel Primitives</a>
</li></ul></li><li class="toctree-l1"><a class="reference internal" href="sysReliability.html">System Reliability</a>
<ul><li class="toctree-l2"><a class="reference internal" href="sysReliability.html#reliability-issues">Reliability Issues</a>
</li><li class="toctree-l2"><a class="reference internal" href="sysReliability.html#reliability-by-design">Reliability by Design</a>
</li><li class="toctree-l2"><a class="reference internal" href="sysReliability.html#fault-management">Fault Management</a>
<ul><li class="toctree-l3"><a class="reference internal" href="sysReliability.html#fault-detection">FAULT DETECTION</a>
<ul><li class="toctree-l4"><a class="reference internal" href="sysReliability.html#memory-audits">Memory Audits</a>
</li><li class="toctree-l4"><a class="reference internal" href="sysReliability.html#guarded-primitive-access">Guarded Primitive Access</a>
</li><li class="toctree-l4"><a class="reference internal" href="sysReliability.html#software-watchdog">Software Watchdog</a>
</li><li class="toctree-l4"><a class="reference internal" href="sysReliability.html#primitive-declaration">Primitive Declaration</a>
</li><li class="toctree-l4"><a class="reference internal" href="sysReliability.html#system-build-utility">System Build Utility</a>
</li><li class="toctree-l4"><a class="reference internal" href="sysReliability.html#high-level-language-interface">High-Level Language Interface</a>
</li></ul></li><li class="toctree-l3"><a class="reference internal" href="sysReliability.html#fault-handling-and-recovery">FAULT HANDLING AND RECOVERY</a>
<ul><li class="toctree-l4"><a class="reference internal" href="sysReliability.html#kernel-fault-handling">Kernel Fault Handling</a>
</li><li class="toctree-l4"><a class="reference internal" href="sysReliability.html#application-fault-handling">Application Fault Handling</a>
</li></ul></li></ul></li></ul></li><li class="nav-caption"><span class="caption-text">Tutorials</span></li><li class="toctree-l1"><a class="reference internal" href="tutFirst.html">Your First Application</a>
<ul><li class="toctree-l2"><a class="reference internal" href="tutFirst.html#step-1-set-up-your-demoyard-developer-environment">Step 1. Set up Your Demoyard Developer Environment</a>
</li><li class="toctree-l2"><a class="reference internal" href="tutFirst.html#step-2-define-your-datastream">Step 2. Define Your Datastream</a>
</li><li class="toctree-l2"><a class="reference internal" href="tutFirst.html#step-3-visualize-your-data">Step 3. Visualize Your Data</a>
</li><li class="toctree-l2"><a class="reference internal" href="tutFirst.html#summary">Summary</a>
</li></ul></li><li class="toctree-l1"><a class="reference internal" href="tutCustom.html">Create a Custom Application</a>
<ul><li class="toctree-l2"><a class="reference internal" href="tutCustom.html#step-1-create-your-custom-application">Step 1. Create Your Custom Application</a>
<ul><li class="toctree-l3"><a class="reference internal" href="tutCustom.html#create-a-datapoint">Create a Datapoint</a>
</li><li class="toctree-l3"><a class="reference internal" href="tutCustom.html#write-the-datapoints">Write the Datapoints</a>
</li></ul></li><li class="toctree-l2"><a class="reference internal" href="tutCustom.html#step-2-run-the-example-and-visualize-your-data">Step 2. Run the Example and Visualize Your Data</a>
</li><li class="toctree-l2"><a class="reference internal" href="tutCustom.html#summary">Summary</a>
</li><li class="toctree-l2"><a class="reference internal" href="tutCustom.html#example-source">Example Source</a>
</li></ul></li><li class="toctree-l1"><a class="reference internal" href="tutRequest.html">Make an API Call to the Demoyard Cloud</a>
<ul><li class="toctree-l2"><a class="reference internal" href="tutRequest.html#authenticate-the-agent-with-the-cloud">Authenticate the Agent with the Cloud</a>
</li><li class="toctree-l2"><a class="reference internal" href="tutRequest.html#get-a-list-of-users-associated-with-the-agent">Get a List of Users Associated with the Agent</a>
</li><li class="toctree-l2"><a class="reference internal" href="tutRequest.html#example">Example</a>
</li></ul></li><li class="nav-caption"><span class="caption-text">API Reference</span></li><li class="toctree-l1"><a class="reference internal" href="conventions.html">General Definitions</a>
<ul><li class="toctree-l2"><a class="reference internal" href="conventions.html#suspensive-primitives">Suspensive Primitives</a>
</li><li class="toctree-l2"><a class="reference internal" href="conventions.html#common-primitive-attributes">Common Primitive Attributes</a>
</li><li class="toctree-l2"><a class="reference internal" href="conventions.html#primitive-access">Primitive Access</a>
</li><li class="toctree-l2"><a class="reference internal" href="conventions.html#literals-used-with-primitives">Literals Used with Primitives</a>
<ul><li class="toctree-l3"><a class="reference internal" href="conventions.html#task-attributes">Task Attributes</a>
</li><li class="toctree-l3"><a class="reference internal" href="conventions.html#queue-management">Queue Management</a>
</li><li class="toctree-l3"><a class="reference internal" href="conventions.html#semaphore-management">Semaphore Management</a>
</li><li class="toctree-l3"><a class="reference internal" href="conventions.html#event-management">Event Management</a>
</li><li class="toctree-l3"><a class="reference internal" href="conventions.html#timer-management">Timer Management</a>
</li><li class="toctree-l3"><a class="reference internal" href="conventions.html#fault-management">Fault Management</a>
</li></ul></li></ul></li><li class="toctree-l1"><a class="reference internal" href="ifSpecification.html">Interface Specification</a>
<ul><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#gettid-get-task-identifier">GETTID Get Task Identifier</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#getmytid-get-own-task-identifier">GETMYTID Get Own Task Identifier</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#get-crid-get-resource-identifier">GET_CRID Get Resource Identifier</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#enter-cr-get-access-to-resource">ENTER_CR Get Access to Resource</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#exit-cr-release-access-to-resource">EXIT_CR Release Access to Resource</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#enter-scr-get-exclusive-access-to-processor">ENTER_SCR Get Exclusive Access to Processor</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#signal-signal-event-occurrence">SIGNAL Signal Event Occurrence</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#wait-wait-for-event-occurrence">WAIT Wait for Event Occurrence</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#send-send-message-to-task">SEND Send Message to Task</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#recv-wait-for-message-from-task">RECV Wait for Message from Task</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#alert-request-wakeup-after-time-interval">ALERT Request Wakeup after Time Interval</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#gettik-get-current-system-timer-value">GETTIK Get Current System Timer Value</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#q-getid-get-queue-identifier">Q_GETID Get Queue Identifier</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#q-clear-initialize-queue">Q_CLEAR Initialize Queue</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#q-put-add-item-to-linked-list-queue">Q_PUT Add Item to Linked-list Queue</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#locate-mem-locate-task-dynamic-memory">LOCATE_MEM Locate Task Dynamic Memory</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#log-fatal-indicate-fatal-fault-occurrence">LOG_FATAL Indicate Fatal Fault Occurrence</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#log-warn-indicate-non-fatal-fault-occurrence">LOG_WARN Indicate Non-fatal Fault Occurrence</a>
</li><li class="toctree-l2"><a class="reference internal" href="ifSpecification.html#exit-sstate-exit-supervisory-state">EXIT_SSTATE Exit Supervisory State</a>
</li></ul></li><li class="toctree-l1"><a class="reference internal" href="dataStructures.html">Data Structures</a>
<ul><li class="toctree-l2"><a class="reference internal" href="dataStructures.html#control-data">Control Data</a>
</li><li class="toctree-l2"><a class="reference internal" href="dataStructures.html#task-control-block">Task Control Block</a>
</li><li class="toctree-l2"><a class="reference internal" href="dataStructures.html#fault-analysis-area">Fault Analysis Area</a>
</li></ul></li><li class="nav-caption"><span class="caption-text">Performance</span></li><li class="toctree-l1"><a class="reference internal" href="perfMemory.html">Memory Allocation</a>
<ul><li class="toctree-l2"><a class="reference internal" href="perfMemory.html#memory-layout">Memory Layout</a>
<ul><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#internal-256-byte-ram">INTERNAL 256-BYTE RAM</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#64-byte-register-block">64-BYTE REGISTER BLOCK</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#application-dynamic-data-area">APPLICATION DYNAMIC DATA AREA</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#task-dynamic-data-area">TASK DYNAMIC DATA AREA</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#task-stack-area">TASK STACK AREA</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#kernel-task-management-data">KERNEL TASK MANAGEMENT DATA</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#supervisor-state-stack">SUPERVISOR STATE STACK</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#memory-mapped-i/o-registers">MEMORY-MAPPED I/O REGISTERS</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#kernel-code-and-constant-data">KERNEL CODE AND CONSTANT DATA</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#application-code-and-constant-data">APPLICATION CODE AND CONSTANT DATA</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#internal-512-byte-eeprom">INTERNAL 512-BYTE EEPROM</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#internal-8k-rom">INTERNAL 8K ROM</a>
</li><li class="toctree-l3"><a class="reference internal" href="perfMemory.html#interrupt-vectors">INTERRUPT VECTORS</a>
</li></ul></li><li class="toctree-l2"><a class="reference internal" href="perfMemory.html#task-memory-allocation">Task Memory Allocation</a>
</li></ul></li><li class="toctree-l1"><a class="reference internal" href="perfCPU.html">CPU Performance</a>
<ul><li class="toctree-l2"><a class="reference internal" href="perfCPU.html#context-switch-timing">Context Switch Timing</a>
</li><li class="toctree-l2"><a class="reference internal" href="perfCPU.html#primitive-timing">Primitive Timing</a>
</li></ul></li><li class="nav-caption"><span class="caption-text">Configuration Dashboard</span></li><li class="toctree-l1"><a class="reference internal" href="dashOverview.html">Dashboard Introduction</a>
<ul><li class="toctree-l2"><a class="reference internal" href="dashOverview.html#purpose-of-the-utility">Purpose of the Utility</a>
</li><li class="toctree-l2"><a class="reference internal" href="dashOverview.html#assembling-and-modifying-the-output-file">Assembling and Modifying the Output File</a>
</li></ul></li><li class="toctree-l1"><a class="reference internal" href="dashUG.html">Dashboard User Guide</a>
<ul><li class="toctree-l2"><a class="reference internal" href="dashUG.html#file-location">File Location</a>
</li><li class="toctree-l2"><a class="reference internal" href="dashUG.html#resource-and-environment-definition">Resource and Environment Definition</a>
</li><li class="toctree-l2"><a class="reference internal" href="dashUG.html#task-definition">Task Definition</a>
</li></ul></li>
</ul>
</div>
</div>
</nav>

<section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
<div class="wy-nav-content">
<div class="rst-content">
<a href="index.html">Home</a>
<a href="conventions.html" class="stealth-btn float-right" title="Accesskey Alt(+Shift)+n">Next</a><span class="bar  float-right">|</span><a href="tutCustom.html" class="stealth-btn float-right" title="Accesskey Alt(+Shift)+p">Previous</a>
<div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
<div itemprop="articleBody" class="toBeIndexed">
<div class="document">
<div class="section" id="make-an-api-call-to-the-demoyard-cloud">
<h1>Make an API Call to the Demoyard Cloud</h1>
<p>The Demoyard Cloud implements management and data storage functions for a network of distributed, autonomous agents. Agents access cloud functionality using the Demoyard Cloud API.</p>
<p>This tutorial authenticates the agent with the cloud and gets the list of users associated with the agent. See the <a class="reference internal" href="#example">Example</a> code for the complete implementation.</p>
<div class="section" id="authenticate-the-agent-with-the-cloud">
<h2>Authenticate the Agent with the Cloud</h2>
<p>Agents must first authenticate with the cloud before transferring data. Demoyard Cloud uses JSON Web Token (JWT) authentication.</p>
<p>Pass your Demoyard account email address and password in the JWT request:</p>
<pre class="code bash literal-block">
curl -X POST -k -H <span class="literal string single">'Content-Type: application/json'</span> -i <span class="literal string single">'https://api-dev.demoyard/v1/admin/auth/login'</span> --data <span class="literal string single">'{&quot;email&quot;: &quot;joe.demoyard&#64;demoyard.com&quot;, &quot;password&quot;: &quot;changeMe123&quot;}'</span>
</pre>
<p>A JWT token is returned:</p>
<pre class="code json literal-block">
<span class="punctuation">{</span><span class="name tag">&quot;authentication&quot;</span><span class="punctuation">:</span>
    <span class="punctuation">{</span><span class="name tag">&quot;accessToken&quot;</span><span class="punctuation">:</span><span class="literal string double">&quot;eyJraWQiOiJpcDJMUH ... v1NLf5Y70xtdtUyxRudUg&quot;</span><span class="punctuation">,</span>
    <span class="name tag">&quot;refreshToken&quot;</span><span class="punctuation">:</span><span class="literal string double">&quot;eyJjdHkiOiJKV1Q ... 3pvYhCXvtntwMQFyPUNzA&quot;</span><span class="punctuation">,</span>
    <span class="name tag">&quot;userId&quot;</span><span class="punctuation">:</span><span class="literal string double">&quot;5bc046f1-967a-4455-bae1-dc208f5e619a&quot;</span><span class="punctuation">}</span>
<span class="punctuation">}</span>
</pre>
<p>Pass this token in the header of subsequent API calls. The token is valid for one hour.</p>
</div>
<div class="section" id="get-a-list-of-users-associated-with-the-agent">
<h2>Get a List of Users Associated with the Agent</h2>
<p>Use the <tt class="docutils literal">/admin/users</tt> URI to get information about the users associated with the agent:</p>
<pre class="code bash literal-block">
curl -X GET -k -H <span class="literal string single">'Content-Type: application/json'</span> -H <span class="literal string single">'Authorization: Bearer eyJraWQiOiJpcDJMUH ... v1NLf5Y70xtdtUyxRudUg'</span> -i <span class="literal string single">'https://api-dev.demoyard/v1/admin/users'</span>
</pre>
<p>Notice that the <tt class="docutils literal">Authorization</tt> field has a value of <tt class="docutils literal">Bearer</tt> and includes the previously returned JWT token.</p>
<p>Demoyard Cloud returns a JSON structure of user information for all the users associated with the calling agent:</p>
<pre class="code json literal-block">
<span class="punctuation">{</span>
  <span class="name tag">&quot;items&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>
    <span class="punctuation">{</span>
      <span class="name tag">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;174bb39d-bd58-450b-8614-f325c0525a7f&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;created&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;2018-09-12T22:02:15.748Z&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;updated&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;2018-11-16T23:22:54.937Z&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;email&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;admin&#64;example.com&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;name&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;admin&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;role&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;administrator&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;enabled&quot;</span><span class="punctuation">:</span> <span class="keyword constant">true</span>
    <span class="punctuation">},</span>
    <span class="punctuation">{</span>
      <span class="name tag">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;5bc046f1-967a-4455-bae1-dc208f5e619a&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;created&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;2018-10-25T20:41:17.167Z&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;updated&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;2018-10-25T20:41:17.167Z&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;email&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;qa&#64;demoyard.com&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;name&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;QA&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;role&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;user&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;enabled&quot;</span><span class="punctuation">:</span> <span class="keyword constant">true</span>
    <span class="punctuation">},</span>
                        <span class="error">.</span>
                        <span class="error">.</span> <span class="error">(elided)</span>
                        <span class="error">.</span>
    <span class="punctuation">{</span>
      <span class="name tag">&quot;id&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;c26637d8-3d7b-47e3-b2bb-19ce7d250289&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;created&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;2018-11-16T21:08:47.793Z&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;updated&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;2018-11-16T21:08:47.793Z&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;email&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;mmaynard&#64;demoyard&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;name&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;Mark Maynard&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;role&quot;</span><span class="punctuation">:</span> <span class="literal string double">&quot;user&quot;</span><span class="punctuation">,</span>
      <span class="name tag">&quot;enabled&quot;</span><span class="punctuation">:</span> <span class="keyword constant">true</span>
    <span class="punctuation">}</span>
  <span class="punctuation">]</span>
<span class="punctuation">}</span>
</pre>
</div>
<div class="section" id="example">
<h2>Example</h2>
<pre class="code python literal-block">
<span class="comment hashbang">#!/usr/bin/env python</span>
<span class="keyword namespace">import</span> <span class="name namespace">requests</span>
<span class="keyword namespace">import</span> <span class="name namespace">json</span>
<span class="keyword namespace">import</span> <span class="name namespace">getpass</span>
<span class="name">baseURI</span> <span class="operator">=</span> <span class="literal string single">'https://api-dev.demoyard/v1/admin/'</span>
<span class="keyword">print</span> <span class="literal string single">'</span><span class="literal string escape">\n</span><span class="literal string single">Enter your Demoyard login credentials ...'</span>
<span class="name">user_email</span> <span class="operator">=</span> <span class="name builtin">raw_input</span><span class="punctuation">(</span><span class="literal string single">'Email: '</span><span class="punctuation">)</span>
<span class="keyword">try</span><span class="punctuation">:</span>
    <span class="name">user_password</span> <span class="operator">=</span> <span class="name">getpass</span><span class="operator">.</span><span class="name">getpass</span><span class="punctuation">()</span>
<span class="keyword">except</span> <span class="name exception">Exception</span> <span class="keyword">as</span> <span class="name">error</span><span class="punctuation">:</span>
    <span class="keyword">print</span><span class="punctuation">(</span><span class="literal string single">'ERROR'</span><span class="punctuation">,</span> <span class="name">error</span><span class="punctuation">)</span>
<span class="name">response</span> <span class="operator">=</span> <span class="name">requests</span><span class="operator">.</span><span class="name">post</span><span class="punctuation">(</span><span class="name">baseURI</span> <span class="operator">+</span> <span class="literal string single">'auth/login'</span><span class="punctuation">,</span> <span class="name">json</span><span class="operator">=</span><span class="punctuation">{</span><span class="literal string double">&quot;email&quot;</span><span class="punctuation">:</span> <span class="name">user_email</span><span class="punctuation">,</span> <span class="literal string double">&quot;password&quot;</span><span class="punctuation">:</span> <span class="name">user_password</span><span class="punctuation">},</span> <span class="name">headers</span><span class="operator">=</span><span class="punctuation">{</span><span class="literal string single">'content-type'</span><span class="punctuation">:</span><span class="literal string single">'application/json'</span><span class="punctuation">})</span>
<span class="keyword">if</span> <span class="punctuation">(</span><span class="name">response</span><span class="operator">.</span><span class="name">status_code</span> <span class="operator">==</span> <span class="literal number integer">200</span><span class="punctuation">):</span>
    <span class="name">jwt</span> <span class="operator">=</span> <span class="name">json</span><span class="operator">.</span><span class="name">loads</span> <span class="punctuation">(</span><span class="name">response</span><span class="operator">.</span><span class="name">text</span><span class="punctuation">)</span>
    <span class="name">token</span> <span class="operator">=</span> <span class="name">jwt</span><span class="punctuation">[</span><span class="literal string single">'authentication'</span><span class="punctuation">][</span><span class="literal string single">'accessToken'</span><span class="punctuation">]</span>
    <span class="name">token_header</span> <span class="operator">=</span> <span class="literal string single">'Bearer '</span> <span class="operator">+</span> <span class="name">token</span>
    <span class="name">response</span> <span class="operator">=</span> <span class="name">requests</span><span class="operator">.</span><span class="name">get</span><span class="punctuation">(</span><span class="name">baseURI</span> <span class="operator">+</span> <span class="literal string single">'users'</span><span class="punctuation">,</span> <span class="name">headers</span><span class="operator">=</span><span class="punctuation">{</span><span class="literal string single">'content-type'</span><span class="punctuation">:</span><span class="literal string single">'application/json'</span><span class="punctuation">,</span> <span class="literal string single">'Authorization'</span><span class="punctuation">:</span> <span class="name">token_header</span><span class="punctuation">})</span>
    <span class="name">users_list</span> <span class="operator">=</span> <span class="name">json</span><span class="operator">.</span><span class="name">loads</span> <span class="punctuation">(</span><span class="name">response</span><span class="operator">.</span><span class="name">text</span><span class="punctuation">)</span>
    <span class="keyword">for</span> <span class="name">user</span> <span class="operator word">in</span> <span class="name">users_list</span><span class="punctuation">[</span><span class="literal string single">'items'</span><span class="punctuation">]:</span>
        <span class="keyword">print</span> <span class="name">user</span><span class="punctuation">[</span><span class="literal string single">'id'</span><span class="punctuation">]</span>
        <span class="keyword">if</span> <span class="name">user</span><span class="punctuation">[</span><span class="literal string single">'id'</span><span class="punctuation">]</span> <span class="operator">==</span> <span class="name">jwt</span><span class="punctuation">[</span><span class="literal string single">'authentication'</span><span class="punctuation">][</span><span class="literal string single">'userId'</span><span class="punctuation">]:</span>
            <span class="keyword">print</span> <span class="literal string double">&quot;Your user information:&quot;</span>
            <span class="name">response</span> <span class="operator">=</span> <span class="name">requests</span><span class="operator">.</span><span class="name">get</span><span class="punctuation">(</span><span class="name">baseURI</span> <span class="operator">+</span> <span class="literal string single">'users/'</span> <span class="operator">+</span> <span class="name">user</span><span class="punctuation">[</span><span class="literal string single">'id'</span><span class="punctuation">],</span> <span class="name">headers</span><span class="operator">=</span><span class="punctuation">{</span><span class="literal string single">'content-type'</span><span class="punctuation">:</span><span class="literal string single">'application/json'</span><span class="punctuation">,</span> <span class="literal string single">'Authorization'</span><span class="punctuation">:</span> <span class="name">token_header</span><span class="punctuation">})</span>
            <span class="name">parsed</span> <span class="operator">=</span> <span class="name">json</span><span class="operator">.</span><span class="name">loads</span> <span class="punctuation">(</span><span class="name">response</span><span class="operator">.</span><span class="name">text</span><span class="punctuation">)</span>
            <span class="keyword">print</span><span class="punctuation">(</span><span class="name">json</span><span class="operator">.</span><span class="name">dumps</span><span class="punctuation">(</span><span class="name">parsed</span><span class="punctuation">,</span> <span class="name">indent</span><span class="operator">=</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="name">sort_keys</span><span class="operator">=</span><span class="name builtin pseudo">True</span><span class="punctuation">))</span>
<span class="keyword">elif</span> <span class="punctuation">(</span><span class="name">response</span><span class="operator">.</span><span class="name">status_code</span> <span class="operator">==</span> <span class="literal number integer">401</span><span class="punctuation">):</span>
    <span class="keyword">print</span> <span class="literal string double">&quot;Invalid login credentials provided&quot;</span>
    <span class="keyword">print</span> <span class="name">parser</span><span class="operator">.</span><span class="name">print_help</span><span class="punctuation">()</span>
</pre>
</div>
</div>
</div>

</div><!-- /.toBeIndexed -->
</div>
<footer>
<div class="rst-footer-nav" role="navigation" aria-label="footer navigation">

<a href="tutCustom.html" title="Accesskey Alt(+Shift)+p" accesskey="p">Previous</a><span class="bar">|</span><a href="conventions.html" title="Accesskey Alt(+Shift)+n" accesskey="n">Next</a>
</div></footer>
</div>
</div>
</section>
</div>


<script type="text/javascript">
var DOCUMENTATION_OPTIONS = {
URL_ROOT:'./',
VERSION:'',
COLLAPSE_INDEX:false,
FILE_SUFFIX:'.html',
HAS_SOURCE:  true
};
</script>
<script type="text/javascript" src="static/js/jquery.min.js"></script>
<script type="text/javascript" src="static/js/underscore.js"></script>
<script type="text/javascript" src="static/js/doctools.js"></script>
<script type="text/javascript" src="static/js/language_data.js"></script>
<script type="text/javascript" src="static/js/searchtools.js"></script>
<script type="text/javascript" src="static/js/jquery-ui.min.js"></script>
<script type="text/javascript" src="static/js/theme.js"></script>
<script type="text/javascript">
jQuery(function () {
SphinxRtdTheme.StickyNav.enable();
});
</script>
<script type="text/javascript" id="idPiwikScriptPlaceholder"></script>
<header>
<div class="header__container">
<a href="index.html"><img class="raw_img" height="64" src="img/bannerLogo.png" alt="Documentation" /></a>

<ul class="header__links"><li><a href="https://github.community/">Community</a></li><li><a href="https://github.com/ghartsel/DoreStaticSiteGenerator/tree/master/demo">GitHub</a></li><li><a href="https://www.gh.works/">About</a></li></ul>
</div>
</header>
</body>
</html>
